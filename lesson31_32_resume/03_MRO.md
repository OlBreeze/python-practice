
**MRO (Method Resolution Order)** โ ะผะตัะฐะฝะธะทะผ, ะบะพัะพััะน ัะตัะฐะตั ะฟัะพะฑะปะตะผั ัะพะผะฑะพะฒะธะดะฝะพะณะพ ะฝะฐัะปะตะดะพะฒะฐะฝะธั.

---

# ๐งฉ ะัะพะฑะปะตะผะฐ ัะพะผะฑะพะฒะธะดะฝะพะณะพ ะฝะฐัะปะตะดะพะฒะฐะฝะธั

ะกัััะบัััะฐ ะบะปะฐััะพะฒ:

```
    A
   / \
  B   C
   \ /
    D
```

ะัะต ะบะปะฐััั ะฝะฐัะปะตะดััััั ัะฐะบ:

* B -> A
* C -> A
* D -> B ะธ C

ะขะตะฟะตัั ะฒะพะฟัะพั:
**ะัะปะธ D ะฝะต ะธะผะตะตั ะผะตัะพะดะฐ, ะฝะพ ะตััั ะผะตัะพะด ะธ ั B, ะธ ั C, ะบะฐะบะพะน ะฒัะทะฒะฐัั?**

ะัะปะธ ะฑั ะฟะพััะดะพะบ ะฑัะป ะฝะตะพะฟัะตะดะตะปัะฝ, ัะพ:

* ะฒะพะทะฝะธะบะฐะตั ะบะพะฝัะปะธะบั: B ะธะปะธ C?
* ะผะตัะพะดั A ะผะพะณะปะธ ะฑั ะฒัะทัะฒะฐัััั ะดะฒะฐ ัะฐะทะฐ (ะตัะปะธ ะฑั B ะธ C ะพะฑะฐ ะฒัะทัะฒะฐะปะธ super())

ะ ััะฐััั ะฒะตััะธัั Python 2 ะดะตะนััะฒะธัะตะปัะฝะพ ะฑัะปะฐ ะฟััะฐะฝะธัะฐ.

---

# โ **ะะตัะตะฝะธะต: MRO (Method Resolution Order)**

Python ะธัะฟะพะปัะทัะตั ะฐะปะณะพัะธัะผ **C3 Linearization** โ ะพะฝ ะฒััะธัะปัะตั ัััะบะธะน ะปะธะฝะตะนะฝัะน ะฟะพััะดะพะบ ะฟะพะธัะบะฐ ะผะตัะพะดะพะฒ.

ะญัะพั ะฟะพััะดะพะบ ะณะฐัะฐะฝัะธััะตั:

1. **deterministic** โ ะฒัะตะณะดะฐ ะพะดะธะฝะฐะบะพะฒัะน ะฟะพััะดะพะบ
2. **single root** โ ัะพะดะธัะตะปั A ะฝะต ะฑัะดะตั ะฒัะทะฒะฐะฝ ะดะฒะฐะถะดั
3. **local precedence order** โ ะฟะพััะดะพะบ ะฝะฐัะปะตะดะพะฒะฐะฝะธั ะฒ ะพะฑััะฒะปะตะฝะธะธ ะบะปะฐััะฐ ัะพะฑะปัะดะฐะตััั
4. **consistent** โ ะฝะฐัะปะตะดะพะฒะฐะฝะธะต ัััะพะธััั ัะฐะบ, ััะพะฑั ะฝะต ะปะพะผะฐัั ะธะตัะฐััะธั

---

# ๐ ะัะธะผะตั

```python
class A:
    def test(self): print("A")

class B(A):
    def test(self): print("B")

class C(A):
    def test(self): print("C")

class D(B, C):
    pass

d = D()
d.test()
```

> > ะัะฒะตะดะตั: **B**

ะะพัะตะผั? ะกะผะพััะธะผ MRO:

```python
print(D.__mro__)
```

ะะตะทัะปััะฐั:

```
(D, B, C, A, object)
```

โก Python ัะฝะฐัะฐะปะฐ ัะผะพััะธั ะผะตัะพะด ั **D**,
ะตัะปะธ ะฝะตั โ ั **B**,
ะตัะปะธ ะฝะตั โ ั **C**,
ะฟะพัะพะผ ะฒ **A**,
ะฟะพัะพะผ ะฒ object.

---

# ๐ง ะะฐะบ Python ัะพัะผะธััะตั ััะพั ะฟะพััะดะพะบ (ะบัะฐัะบะพ, ะฝะพ ะฟะพะฝััะฝะพ)

MRO ะบะปะฐััะฐ D ัััะพะธััั ะธะท:

* ัะฐะผะพะณะพ ะบะปะฐััะฐ D
* MRO(B)
* MRO(C)
* ัะฟะธัะบะฐ ัะพะดะธัะตะปััะบะธั ะบะปะฐััะพะฒ [B, C]

ะะฐะถะฝะพะต ะฟัะฐะฒะธะปะพ:
๐น **ะะพะดะธัะตะปั ะบะฐัะตะณะพัะธัะตัะบะธ ะฝะต ะดะพะปะถะตะฝ ะฟะพัะฒะปััััั ะฒ MRO ะฟะพัะปะต ัะฒะพะธั ะฟะพัะพะผะบะพะฒ.**

ะะปะณะพัะธัะผ C3 ะฒััััะฐะธะฒะฐะตั ะปะธะฝะตะนะฝัั ัะตะฟะพัะบั, ัะพะฑะปัะดะฐั:

1. ะฟะพััะดะพะบ, ัะบะฐะทะฐะฝะฝัะน ะฒ `class D(B, C)`
2. ะฟะพััะดะพะบ MRO ะดะปั B
3. ะฟะพััะดะพะบ MRO ะดะปั C
4. ะธะตัะฐััะธั (A โ ัะพะดะธัะตะปั, ะทะฝะฐัะธั ะฟะพะทะถะต)

---

# ๐ก ะะฐัะตะผ ะฝัะถะตะฝ super() ะฒ ััะพะน ัะธััะตะผะต?

ะะปะฐะณะพะดะฐัั MRO, ะฒัะทะพะฒ super() ัะฐะฑะพัะฐะตั ะฝะต ยซะบ ัะพะดะธัะตะปัยป, ะฐ **ะบ ัะปะตะดัััะตะผั ะบะปะฐััั ะฒ ัะตะฟะพัะบะต MRO**.

ะัะธะผะตั:

```python
class A:
    def test(self):
        print("A")
        super().test()

class B(A):
    def test(self):
        print("B")
        super().test()

class C(A):
    def test(self):
        print("C")
        super().test()

class D(B, C):
    def test(self):
        print("D")
        super().test()

D().test()
```

ะัะฒะพะด:

```
D
B
C
A
```

๐ ะะธะบัะพ ะฝะต ะฒัะทะฒะฐะป A ะดะฒะฐ ัะฐะทะฐ โ ัะพัั B ะธ C ะพะฑะฐ ะฝะฐัะปะตะดััั A.

ะญัะพ ะทะฐัะปัะณะฐ MRO.

---

# ๐ฏ ะัะพะณะธ

**MRO ัะตัะฐะตั ะฟัะพะฑะปะตะผั ะผะฝะพะถะตััะฒะตะฝะฝะพะณะพ ะฝะฐัะปะตะดะพะฒะฐะฝะธั:**

* ะณะฐัะฐะฝัะธััะตั ะพะดะฝะพะทะฝะฐัะฝัะน ะฟะพััะดะพะบ ะฟะพะธัะบะฐ ะผะตัะพะดะฐ
* ะฟัะตะดะพัะฒัะฐัะฐะตั ะฟะพะฒัะพัะฝัะต ะฒัะทะพะฒั ะพะฑัะธั ะฟัะตะดะบะพะฒ
* ะฟะพะทะฒะพะปัะตั ะฑะตะทะพะฟะฐัะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั super()
* ะดะตะปะฐะตั ะฝะฐัะปะตะดะพะฒะฐะฝะธะต ะฟัะตะดัะบะฐะทัะตะผัะผ

---
ะกัะตะผะฐ, ะฟะพะบะฐะทัะฒะฐััะฐั, ะบะฐะบ ัะพัะผะธััะตััั **ัะตะฟะพัะบะฐ MRO** ะดะปั ัะพะผะฑะพะฒะธะดะฝะพะณะพ ะฝะฐัะปะตะดะพะฒะฐะฝะธั.

---

# ๐งฉ **ะะปะฐััั**

```
    A
   / \
  B   C
   \ /
    D
```

---

# ๐ง **ะะฐะบ MRO ะฒััััะฐะธะฒะฐะตััั**

MRO(D) ัะพัะผะธััะตััั ะฝะฐ ะพัะฝะพะฒะต:

* ัะฐะผะพะณะพ ะบะปะฐััะฐ D
* MRO(B)
* MRO(C)
* ัะฟะธัะบะฐ ะฟััะผัั ัะพะดะธัะตะปะตะน D: (B, C)

ะกัะตะผะฐ:

```
MRO(B): B โ A โ object
MRO(C): C โ A โ object
Parents(D): B โ C
```

---

# ๐งฑ **ะัะฐัะธัะตัะบะพะต ะฟะพัััะพะตะฝะธะต MRO**

ะจะฐะณ ะทะฐ ัะฐะณะพะผ:

```
                 โโโโโโโโโโโโโโโ
                 โ     object   โ
                 โโโโโโโโโฒโโโโโโโ
                         โ
                 โโโโโโโโโดโโโโโโโ
                 โ       A       โ
                 โโโโโโโโโฒโโโโโโโ
                     โฒ   โ   โฒ
                     โ   โ   โ
           โโโโโโโโโโโ   โ   โโโโโโโโโโ
           โ             โ            โ
     โโโโโโโดโโโโโโ       โ       โโโโโโดโโโโโ
     โ     B     โ       โ       โ     C    โ
     โโโโโโโฒโโโโโโ       โ       โโโโโโฒโโโโโโ
           โ             โ            โ
           โโโโโโโโโโโโโโโผโโโโโโโโโโโโโ
                         โ
                  โโโโโโโโดโโโโโโ
                  โ      D      โ
                  โโโโโโโโโโโโโโโ
```

ะขะตะฟะตัั โ ะปะธะฝะตะนะฝัะน ะฟะพััะดะพะบ:

```
D
โ
โโโ B
โ
โโโ C
โ
โโโ A
โ
โโโ object
```

**ะัะพะณะพะฒัะน MRO(D):**

```
(D, B, C, A, object)
```

---

# ๐ **ะะพัะตะผั ัะฐะบะพะน ะฟะพััะดะพะบ?**

ะะพัะพะผั ััะพ ะฐะปะณะพัะธัะผ C3-linearization ะณะฐัะฐะฝัะธััะตั:

1. **ะะพััะดะพะบ, ัะบะฐะทะฐะฝะฝัะน ะฒ ะฝะฐัะปะตะดะพะฒะฐะฝะธะธ:**

   ```
   class D(B, C)
   ```

   โ B ัะฐะฝััะต C

2. **ะะพะดะธัะตะปั ะฝะต ะผะพะถะตั ะธะดัะธ ะฟะพัะปะต ัะฒะพะธั ะฟะพัะพะผะบะพะฒ.**

3. **ะะฑัะธะน ะฟัะตะดะพะบ (A) ะฒััะฐะฒะปัะตััั ัะพะปัะบะพ ะพะดะธะฝ ัะฐะท, ะฒ ะฟัะฐะฒะธะปัะฝะพะต ะผะตััะพ.**

---

# ๐จ ะกัะตะผะฐ MRO ะฒ ะฒะธะดะต ัะตะฟะพัะบะธ

```
D
โ
B
โ
C
โ
A
โ
object
```

---
