–ö–æ–Ω–µ—á–Ω–æ! –í–æ—Ç —Ä–∞–∑—ä—è—Å–Ω–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

---

## ‚úÖ –ö–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –≤ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ Python?

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç —Ç—Ä–µ–±—É–µ—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É.

### üîß –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã:

#### 1. **–ó–∞–ø—É—Å–∫ `async` —Ñ—É–Ω–∫—Ü–∏–π —á–µ—Ä–µ–∑ `asyncio.run()` (–≤ –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞—è—Ö)**

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –æ–±—ã—á–Ω–æ–π (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π), –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

```python
import asyncio

def sync_function():
    result = asyncio.run(my_async_func())
    print(result)
```

> ‚ö†Ô∏è –ü–æ–¥—Ö–æ–¥–∏—Ç **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ –ø—Ä–æ–≥—Ä–∞–º–º—É**, —Ç–∞–∫ –∫–∞–∫ `asyncio.run()` –Ω–µ–ª—å–∑—è –≤—ã–∑—ã–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–Ω—É—Ç—Ä–∏ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ —Å–æ–±—ã—Ç–∏–π.

---

#### 2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `loop.run_until_complete()` –≤–Ω—É—Ç—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞**

```python
loop = asyncio.get_event_loop()
result = loop.run_until_complete(my_async_func())
```

> –≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –∫–æ–¥–æ–º –≤—Ä—É—á–Ω—É—é.
> –ù–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Ü–∏–∫–ª —Å–æ–±—ã—Ç–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Jupyter –∏–ª–∏ GUI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏).

---

#### 3. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤ –ø–æ—Ç–æ–∫–∞—Ö**

–ï—Å–ª–∏ —É –≤–∞—Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ:

```python
import threading

def run_async_in_thread():
    asyncio.run(my_async_func())

threading.Thread(target=run_async_in_thread).start()
```

---

#### 4. **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (FastAPI, aiohttp, etc.)**

–ï—Å–ª–∏ –±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ —Å–≤—è–∑–∞–Ω–∞ —Å –≤–≤–æ–¥–æ–º-–≤—ã–≤–æ–¥–æ–º (HTTP-–∑–∞–ø—Ä–æ—Å—ã, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö), –º–æ–∂–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å—Ç–µ–∫.

---

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö**

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –Ω–æ –µ—Å—Ç—å —Å–≤–æ–∏ –ø—Ä–æ–±–ª–µ–º—ã.

---

### ‚ùó –û—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:

#### 1. **–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã –ë–î –≤ `async def` —Ñ—É–Ω–∫—Ü–∏—è—Ö**

* –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `psycopg2` –¥–ª—è PostgreSQL, `pymysql` –¥–ª—è MySQL) **–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ**.
* –û–Ω–∏ "–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞—é—Ç" event loop, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–±—ë—Ä–Ω—É—Ç—ã –≤ `async def`.

‚úÖ –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏**:

| –°–£–ë–î       | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä           |
| ---------- | ----------------------------- |
| PostgreSQL | `asyncpg`, `aiopg`            |
| MySQL      | `aiomysql`                    |
| SQLite     | `aiosqlite`                   |
| MongoDB    | `motor` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π PyMongo) |

---

#### 2. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ ORM –µ—â—ë –Ω–µ —Ç–∞–∫ –∑—Ä–µ–ª—ã, –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ**

* `SQLAlchemy` (—Å –≤–µ—Ä—Å–∏–∏ 1.4+) –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `async`, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥—Ä—É–≥–æ–π —Å—Ç–∏–ª—å.
* –ï—Å—Ç—å `Tortoise ORM`, `Gino`, `Piccolo`, –Ω–æ —É –Ω–∏—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞.

---

#### 3. **–ù–µ–ª—å–∑—è —Å–º–µ—à–∏–≤–∞—Ç—å `await` –∏ –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**

```python
# –ü–õ–û–•–û ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç event loop!
await do_something()
data = sync_db_query()  # –±–ª–æ–∫–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤
```

‚úÖ –ù–∞–¥–æ –≤—ã–Ω–æ—Å–∏—Ç—å –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–∑–æ–≤—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫:

```python
import asyncio
from concurrent.futures import ThreadPoolExecutor

executor = ThreadPoolExecutor()

async def safe_query():
    loop = asyncio.get_event_loop()
    result = await loop.run_in_executor(executor, sync_db_query)
    return result
```

---

#### 4. **–ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –º–æ–∂–µ—Ç "–∑–∞–¥—ã—Ö–∞—Ç—å—Å—è"**

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—É–ª. –ù—É–∂–Ω–æ:

* –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (`await conn.close()`);
* –Ω–µ –¥–µ—Ä–∂–∞—Ç—å –∏—Ö –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ;
* –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

---

## üß© –í—ã–≤–æ–¥

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –≤–æ–∑–º–æ–∂–Ω–∞:

* –¥–ª—è —Ç–æ—á–µ—á–Ω—ã—Ö –∑–∞–¥–∞—á ‚Äî —á–µ—Ä–µ–∑ `asyncio.run()` –∏–ª–∏ `loop.run_until_complete()`;
* –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö ‚Äî –ª—É—á—à–µ –ø–µ—Ä–µ–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ —Å—Ç–µ–∫–∞.

