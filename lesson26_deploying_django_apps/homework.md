# Розгортання Django на PythonAnywhere

## Частина 1: Теоретичні питання

### 1. Налаштування Продакшну (DEBUG = True)

**Чому небезпечно залишати DEBUG = True на продакшні:**

**Основні загрози:**

1. **Витік чутливої інформації**: При DEBUG = True Django показує детальні сторінки помилок з повним стеком викликів, змінними середовища, налаштуваннями бази даних, шляхами до файлів. Зловмисники можуть використати цю інформацію для атак.

2. **Розкриття структури проєкту**: Детальні помилки показують внутрішню архітектуру застосунку, імена моделей, використовувані бібліотеки та їх версії, що полегшує пошук вразливостей.

**Додаткові ризики:**
- Витік SECRET_KEY та інших конфіденційних даних
- Збільшене навантаження на пам'ять (Django зберігає всі SQL-запити)
- Погана користувацька experience (користувачі бачать технічні помилки замість дружніх повідомлень)

### 2. ALLOWED_HOSTS

**Призначення:** ALLOWED_HOSTS - це список доменних імен/IP-адрес, які можуть обслуговувати ваш Django-застосунок. Це захист від атак типу HTTP Host header.

**Що відбудеться без правильного налаштування:**

Якщо DEBUG = False і домен PythonAnywhere (наприклад, `yourusername.pythonanywhere.com`) не додано до ALLOWED_HOSTS, Django поверне помилку **400 Bad Request** для всіх запитів до цього домену. Застосунок просто не буде працювати.

Приклад налаштування:
```python
ALLOWED_HOSTS = ['yourusername.pythonanywhere.com', 'www.yourdomain.com']
```

### 3. WSGI vs runserver

**WSGI (Web Server Gateway Interface):**

WSGI - це стандартний інтерфейс між веб-серверами та Python веб-застосунками. У продакшн-середовищі WSGI-сервер (наприклад, Gunicorn, uWSGI) обробляє HTTP-запити та передає їх Django.

**Принципові відмінності від runserver:**

1. **Продуктивність**: 
   - `runserver` - однопотоковий сервер розробки, не оптимізований для навантаження
   - WSGI-сервери підтримують багатопотоковість, процеси-воркери, обробку великої кількості одночасних запитів

2. **Безпека**:
   - `runserver` має відомі вразливості безпеки
   - WSGI-сервери розроблені з урахуванням безпеки продакшну

3. **Стабільність**:
   - `runserver` перезавантажується при змінах коду, може падати
   - WSGI-сервери стабільні, мають механізми відновлення

4. **Інтеграція**:
   - WSGI працює з повноцінними веб-серверами (Nginx, Apache)
   - `runserver` - автономний сервер

### 4. Статичні Файли

**Що робить collectstatic:**

Команда `python manage.py collectstatic` збирає всі статичні файли (CSS, JavaScript, зображення) з різних місць вашого проєкту та всіх застосунків в одну директорію.

**Чому це потрібно:**

У продакшні Django не обслуговує статичні файли автоматично (на відміну від режиму розробки). Веб-сервер (Nginx, Apache) або CDN повинні віддавати статичні файли безпосередньо, що набагато ефективніше.

**Куди збираються файли:**

Файли збираються в директорію, визначену змінною **STATIC_ROOT** у settings.py:

```python
STATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')
# або
STATIC_ROOT = '/home/username/myproject/staticfiles'
```

Також важлива змінна **STATIC_URL** - URL-префікс для статичних файлів:
```python
STATIC_URL = '/static/'
```