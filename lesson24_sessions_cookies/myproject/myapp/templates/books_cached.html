<!-- templates/books_cached.html -->
<!DOCTYPE html>
<html>
<head>
    <title>–ö–µ—à–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥</title>
    <style>
        body { font-family: Arial; max-width: 800px; margin: 20px auto; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background: #28a745; color: white; }
        .cache-info {
            background: {% if cached %}#d4edda{% else %}#fff3cd{% endif %};
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        a { display: inline-block; margin: 10px 0; padding: 8px 15px; background: #007bff; color: white; text-decoration: none; border-radius: 4px; }
        a:hover { background: #0056b3; }
    </style>
</head>
<body>
    <h2>–ö–µ—à–æ–≤–∞–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥</h2>

    <div class="cache-info">
        {% if cached %}
            ‚úÖ –î–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –∑ –∫–µ—à—É
        {% else %}
            üîÑ –î–∞–Ω—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —ñ –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ –∫–µ—à
        {% endif %}
    </div>

    <table>
        <tr>
            <th>–ù–∞–∑–≤–∞</th>
            <th>–ê–≤—Ç–æ—Ä</th>
            <th>–†—ñ–∫</th>
            <th>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–¥–≥—É–∫—ñ–≤</th>
        </tr>
        {% for book in books %}
        <tr>
            <td>{{ book.title }}</td>
            <td>{{ book.author.name }}</td>
            <td>{{ book.published_year }}</td>
            <td>{{ book.reviews.count }}</td>
        </tr>
        {% endfor %}
    </table>

    <a href="{% url 'books_cached' %}">–û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É</a>
    <a href="{% url 'welcome' %}">‚Üê –ù–∞–∑–∞–¥ –¥–æ –º–µ–Ω—é</a>
</body>
</html>