## –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–∞—Ä—Å–µ—Ä—ñ–≤ –¥–ª—è BeautifulSoup

### **html.parser** (–≤–±—É–¥–æ–≤–∞–Ω–∏–π)
```python
soup = BeautifulSoup(response.text, 'html.parser')
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –í–±—É–¥–æ–≤–∞–Ω–∏–π –≤ Python (–Ω–µ –ø–æ—Ç—Ä–µ–±—É—î —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
- ‚úÖ –î–æ—Å—Ç–∞—Ç–Ω—å–æ —à–≤–∏–¥–∫–∏–π –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ –∑–∞–≤–¥–∞–Ω—å
- ‚úÖ –ü—Ä–æ—Å—Ç–∏–π —É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ
- ‚úÖ –ì–∞—Ä–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚ùå –ü–æ–≤—ñ–ª—å–Ω—ñ—à–∏–π –∑–∞ lxml
- ‚ùå –ú–µ–Ω—à —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–∏–π –¥–æ –ø–æ–≥–∞–Ω–æ–≥–æ HTML

---

### **lxml** (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
```python
soup = BeautifulSoup(response.text, 'lxml')
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ **–ù–∞–π—à–≤–∏–¥—à–∏–π –ø–∞—Ä—Å–µ—Ä** (–≤ 2-3 —Ä–∞–∑–∏ —à–≤–∏–¥—à–µ html.parser)
- ‚úÖ –î—É–∂–µ —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–∏–π –¥–æ –ø–æ–≥–∞–Ω–æ–≥–æ HTML
- ‚úÖ –ö—Ä–∞—â–µ –æ–±—Ä–æ–±–ª—è—î –≤–µ–ª–∏–∫—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º—É—î XML

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚ùå –ü–æ—Ç—Ä–µ–±—É—î —É—Å—Ç–∞–Ω–æ–≤–∫–∏: `pip install lxml`

---

### **html5lib**
```python
soup = BeautifulSoup(response.text, 'html5lib')
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- ‚úÖ –ù–∞–π—Ç–æ—á–Ω—ñ—à–∏–π (–ø–∞—Ä—Å–∏—Ç—å —è–∫ –±—Ä–∞—É–∑–µ—Ä)
- ‚úÖ –ù–∞–π–∫—Ä–∞—â–µ –æ–±—Ä–æ–±–ª—è—î –ø–æ–ª–∞–º–∞–Ω–∏–π HTML

**–ù–µ–¥–æ–ª—ñ–∫–∏:**
- ‚ùå **–î—É–∂–µ –ø–æ–≤—ñ–ª—å–Ω–∏–π**
- ‚ùå –ü–æ—Ç—Ä–µ–±—É—î —É—Å—Ç–∞–Ω–æ–≤–∫–∏: `pip install html5lib`

---

## üìä –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Ç–∞–±–ª–∏—Ü—è

| –ü–∞—Ä—Å–µ—Ä | –®–≤–∏–¥–∫—ñ—Å—Ç—å | –¢–æ–ª–µ—Ä–∞–Ω—Ç–Ω—ñ—Å—Ç—å | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ |
|--------|-----------|---------------|-----------|
| **lxml** | ‚ö°‚ö°‚ö° –ù–∞–π—à–≤–∏–¥—à–∏–π | ‚úÖ –í–∏—Å–æ–∫–∞ | `pip install lxml` |
| **html.parser** | ‚ö°‚ö° –°–µ—Ä–µ–¥–Ω—è | ‚úÖ –°–µ—Ä–µ–¥–Ω—è | –í–±—É–¥–æ–≤–∞–Ω–∏–π |
| **html5lib** | ‚ö° –ü–æ–≤—ñ–ª—å–Ω–∏–π | ‚úÖ‚úÖ –ù–∞–π–≤–∏—â–∞ | `pip install html5lib` |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è –¥–ª—è –≤–∞—à–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É

```python
# –ö–†–ê–©–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ lxml
soup = BeautifulSoup(response.text, 'lxml')
```

**–ß–æ–º—É lxml?**
1. –í–∏ –ø–∞—Ä—Å–∏—Ç–µ **–∫—ñ–ª—å–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–æ–∫** (3+) - —à–≤–∏–¥–∫—ñ—Å—Ç—å –≤–∞–∂–ª–∏–≤–∞
2. –ù–æ–≤–∏–Ω–Ω—ñ —Å–∞–π—Ç–∏ —á–∞—Å—Ç–æ –º–∞—é—Ç—å **—Å–∫–ª–∞–¥–Ω–∏–π HTML**
3. lxml –∫—Ä–∞—â–µ –æ–±—Ä–æ–±–ª—è—î **–∫–∏—Ä–∏–ª–∏—Ü—é**

---

## üìù –û–Ω–æ–≤–ª–µ–Ω–∏–π –∫–æ–¥

```python
def get_page(url: str) -> Optional[BeautifulSoup]:
    try:
        headers = {
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'
        }
        response = requests.get(url, headers=headers, timeout=10)
        response.raise_for_status()
        response.encoding = 'utf-8'
        
        # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ lxml –¥–ª—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
        soup = BeautifulSoup(response.text, 'lxml')
        return soup
    except requests.RequestException as e:
        print(f"–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ {url}: {e}")
        return None
```

**–ù–µ –∑–∞–±—É–¥—å—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏:**
```bash
pip install lxml
```

---

## –í–∏—Å–Ω–æ–≤–æ–∫

**–î–ª—è –ø–∞—Ä—Å–∏–Ω–≥—É –Ω–æ–≤–∏–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `lxml`** - –≤—ñ–Ω —à–≤–∏–¥—à–∏–π —ñ –∫—Ä–∞—â–µ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è –≤–∞—à–æ—ó –∑–∞–¥–∞—á—ñ!