–£ –Ω–∞–¥–∞–Ω–æ–º—É –≤–∞—Ä—ñ–∞–Ω—Ç—ñ –∫–æ–¥—É **–Ω–µ–º–∞—î** –∂–æ–¥–Ω–∏—Ö **JWT-—Ç–æ–∫–µ–Ω—ñ–≤** —á–∏ —ñ–Ω—à–∏—Ö —Å—É—á–∞—Å–Ω–∏—Ö –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤, 
—è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ç–æ–∫–µ–Ω–∏ –¥–æ—Å—Ç—É–ø—É (—è–∫ —É Django REST Framework).

---

## üîí –ë–µ–∑–ø–µ–∫–∞ –Ω–∞–¥–∞–Ω–æ–≥–æ –∫–æ–¥—É

–ù–∞–¥–∞–Ω–∏–π –∫–æ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É, –≤–±—É–¥–æ–≤–∞–Ω—É –≤ Django —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó**, —è–∫–∞ –ø–æ–∫–ª–∞–¥–∞—î—Ç—å—Å—è –Ω–∞ **—Å–µ—Å—ñ—ó (Sessions)** —Ç–∞ **–∫—É–∫–∏ (Cookies)**.

### 1. –Ø–∫—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –±–µ–∑–ø–µ–∫–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è?

| –ú–µ—Ö–∞–Ω—ñ–∑–º | –û–ø–∏—Å | –ë–µ–∑–ø–µ–∫–∞ |
| :--- | :--- | :--- |
| **–°–µ—Å—ñ—ó —Ç–∞ –ö—É–∫–∏** | –ü—ñ—Å–ª—è –≤—Ö–æ–¥—É –≤ —Å–∏—Å—Ç–µ–º—É (`login(request, user)`) Django —Å—Ç–≤–æ—Ä—é—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π **ID —Å–µ—Å—ñ—ó**, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–≤—ñ —É **HTTP-–∫—É–∫—ñ**. –ö—É–∫–∞ —î –∫–ª—é—á–µ–º –¥–æ —Å–µ—Å—ñ—ó –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ. | **–ë–∞–∑–æ–≤–∏–π —Ä—ñ–≤–µ–Ω—å.** –ó–∞—Ö–∏—â–∞—î –≤—ñ–¥ –ø—ñ–¥—Ä–æ–±–æ–∫ –∫—É–∫—ñ–≤ (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø—ñ–¥–ø–∏—Å), –∞–ª–µ –≤—Ä–∞–∑–ª–∏–≤–∏–π –¥–æ CSRF, —è–∫—â–æ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–∞—Ö–∏—Å—Ç. |
| **`@login_required`** | –¶–µ–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∑–∞–±–µ–∑–ø–µ—á—É—î, —â–æ –¥–æ—Å—Ç—É–ø –¥–æ —Ñ—É–Ω–∫—Ü—ñ–π (`edit_profile_view`, `profile_view`, `change_password_view` —Ç–æ—â–æ) –º–∞—é—Ç—å –ª–∏—à–µ **–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ** –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ. | **–í–∏—Å–æ–∫–∏–π.** –û—Å–Ω–æ–≤–Ω–∏–π —Å–ø–æ—Å—ñ–± –∑–∞—Ö–∏—Å—Ç—É API-–º–µ—Ç–æ–¥—ñ–≤. |
| **`update_session_auth_hash`** | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –ø–∞—Ä–æ–ª—è. –¶–µ –∑–∞–ø–æ–±—ñ–≥–∞—î –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å—Ç–∞—Ä–∏—Ö –∫—É–∫—ñ–≤, —è–∫—â–æ –ø–∞—Ä–æ–ª—å –∑–º—ñ–Ω–µ–Ω–æ. | **–í–∏—Å–æ–∫–∏–π.** –ó–∞—Ö–∏—â–∞—î –≤—ñ–¥ –≤–∏–∫—Ä–∞–¥–µ–Ω–∏—Ö —Å–µ—Å—ñ–π –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –ø–∞—Ä–æ–ª—è. |
| **`messages`** | –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å–∏—Å—Ç–µ–º—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å Django –¥–ª—è —ñ–Ω—Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø—Ä–æ —É—Å–ø—ñ—à–Ω—ñ –¥—ñ—ó –∞–±–æ –ø–æ–º–∏–ª–∫–∏. | **–•–æ—Ä–æ—à–∏–π UX.** –ù–µ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –ø—Ä—è–º–æ –±–µ–∑–ø–µ–∫–∏, –∞–ª–µ –≤–∞–∂–ª–∏–≤–∏–π –¥–ª—è –¥–æ—Å–≤—ñ–¥—É. |

### 2. –ù–∞—Å–∫—ñ–ª—å–∫–∏ —Ü–µ –±–µ–∑–ø–µ—á–Ω–æ?

–°–∏—Å—Ç–µ–º–∞ —Å–µ—Å—ñ–π Django, —è–∫ –ø—Ä–∞–≤–∏–ª–æ, **–±–µ–∑–ø–µ—á–Ω–∞** –¥–ª—è **—Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–∏—Ö –≤–µ–±-–¥–æ–¥–∞—Ç–∫—ñ–≤**, –¥–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —ñ –±–µ–∫–µ–Ω–¥ –ø—Ä–∞—Ü—é—é—Ç—å —Ä–∞–∑–æ–º (—Ç–æ–±—Ç–æ Django —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å HTML-—à–∞–±–ª–æ–Ω–∏).

| –ü–µ—Ä–µ–≤–∞–≥–∏ (–¥–ª—è –í–µ–±-–¥–æ–¥–∞—Ç–∫—ñ–≤) | –ù–µ–¥–æ–ª—ñ–∫–∏ (–¥–ª—è API) |
| :--- | :--- |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è:** –ù–µ –ø–æ—Ç—Ä–µ–±—É—î –¥–æ–¥–∞—Ç–∫–æ–≤–∏—Ö –±—ñ–±–ª—ñ–æ—Ç–µ–∫. | **–°–ª–∞–±–∫—ñ—Å—Ç—å –¥–æ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è:** –°–µ—Å—ñ—ó –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –∞–±–æ –∫–µ—à—ñ, —â–æ —É—Å–∫–ª–∞–¥–Ω—é—î –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è (–ø–æ—Ç—Ä—ñ–±–µ–Ω —Å–ø—ñ–ª—å–Ω–∏–π –∫–µ—à). |
| **–ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ CSRF:** Django –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–¥–∞—î —Å–∏–ª—å–Ω–∏–π –∑–∞—Ö–∏—Å—Ç –≤—ñ–¥ CSRF-–∞—Ç–∞–∫. | **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Å—Ç–∞–Ω—É (Stateless):** –°–µ—Å—ñ—ó –≤–∏–º–∞–≥–∞—é—Ç—å –≤—ñ–¥ —Å–µ—Ä–≤–µ—Ä–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å—Ç–∞–Ω, —â–æ —Ä–æ–±–∏—Ç—å —ó—Ö –º–µ–Ω—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º–∏ –¥–ª—è **–º–æ–±—ñ–ª—å–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤** —Ç–∞ **—Å—É—á–∞—Å–Ω–∏—Ö JavaScript-—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ–≤**. |
| **–õ–µ–≥–∫–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è:** –°–µ—Å—ñ—é –º–æ–∂–Ω–∞ –ª–µ–≥–∫–æ "–≤–±–∏—Ç–∏" –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ñ—É–Ω–∫—Ü—ñ—î—é `logout`). | **–í—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å –¥–æ XSS:** –ö—É–∫–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Å—Ö–∏–ª—å–Ω—ñ –¥–æ XSS-–∞—Ç–∞–∫, —è–∫—â–æ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –ø—Ä–∞–ø–æ—Ä—Ü—ñ `HttpOnly`. |

### 3. –ß–æ–º—É –Ω–µ–º–∞—î —Ç–æ–∫–µ–Ω—ñ–≤?

–¢–æ–∫–µ–Ω–∏ (–æ—Å–æ–±–ª–∏–≤–æ **JWT**) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø–µ—Ä–µ–≤–∞–∂–Ω–æ —É –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –≤–∏–ø–∞–¥–∫–∞—Ö:

1.  **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è API (REST/GraphQL)**, –¥–µ –∫–ª—ñ—î–Ω—Ç (–º–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫, React/Vue/Angular) –ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥–æ–∫—Ä–µ–º–ª–µ–Ω–∏–π –≤—ñ–¥ –±–µ–∫–µ–Ω–¥—É. –¢–æ–∫–µ–Ω–∏ –∑–∞–±–µ–∑–ø–µ—á—É—é—Ç—å **Stateless** (–±–µ–∑ —Å—Ç–∞–Ω—É) –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é.
2.  **–ú—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞**, –¥–µ –æ–¥–∏–Ω —Ç–æ–∫–µ–Ω –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –º—ñ–∂ —Ä—ñ–∑–Ω–∏–º–∏ —Å–µ—Ä–≤—ñ—Å–∞–º–∏.
3.  **–ó–º–µ–Ω—à–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –±–∞–∑—É –¥–∞–Ω–∏—Ö** (–Ω–µ–º–∞—î –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –ø–æ—Å—Ç—ñ–π–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —Å—Ö–æ–≤–∏—â–µ —Å–µ—Å—ñ–π).

**–í–∏—Å–Ω–æ–≤–æ–∫:** –ù–∞–¥–∞–Ω–∏–π –∫–æ–¥ **–±–µ–∑–ø–µ—á–Ω–∏–π –¥–ª—è —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–æ–≥–æ –≤–µ–±-—Å–∞–π—Ç—É –Ω–∞ Django** (–¥–µ HTML –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ), –∞–ª–µ –Ω–µ —î –æ–ø—Ç–∏–º–∞–ª—å–Ω–∏–º —Ä—ñ—à–µ–Ω–Ω—è–º –¥–ª—è —Å—É—á–∞—Å–Ω–æ–≥–æ, –≤–∏—Å–æ–∫–æ–º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ–≥–æ –∞–±–æ –º–æ–±—ñ–ª—å–Ω–æ–≥–æ API.