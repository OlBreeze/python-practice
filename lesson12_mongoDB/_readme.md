# –õ–µ–∫—Ü–∏—è: NoSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ MongoDB

## 1. –í–≤–µ–¥–µ–Ω–∏–µ –≤ NoSQL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 1.1 –ß—Ç–æ —Ç–∞–∫–æ–µ NoSQL?
**NoSQL (Not Only SQL)** ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –∏ SQL –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- üîÑ –ì–∏–±–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- üìà –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚ö° –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- üéØ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1.2 –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NoSQL?

#### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ NoSQL –∫–æ–≥–¥–∞:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —á–∞—Å—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è (—Å—Ç–∞—Ä—Ç–∞–ø—ã)
- –ù—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –†–∞–±–æ—Ç–∞ —Å Big Data
- –ù—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏
- –î–∞–Ω–Ω—ã–µ —Å–ª–∞–±–æ —Å–≤—è–∑–∞–Ω—ã –º–µ–∂–¥—É —Å–æ–±–æ–π

#### ‚ùå –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SQL –∫–æ–≥–¥–∞:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–±–∏–ª—å–Ω–∞
- –ù—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –í–∞–∂–Ω—ã —Å—Ç—Ä–æ–≥–∏–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –¥–∞–Ω–Ω—ã–º–∏
- –¢—Ä–µ–±—É–µ—Ç—Å—è ACID-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

---

## 2. –¢–∏–ø—ã NoSQL –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

### 2.1 –î–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ë–î

**–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏:** MongoDB, CouchBase

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–æ–±—ã—á–Ω–æ JSON/BSON —Ñ–æ—Ä–º–∞—Ç)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:**
```json
{
  "_id": "507f1f77bcf86cd799439011",
  "name": "–ò–≤–∞–Ω",
  "age": 25,
  "email": "ivan@mail.com",
  "hobbies": ["–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", "—Å–ø–æ—Ä—Ç"],
  "address": {
    "city": "–ú–æ—Å–∫–≤–∞",
    "street": "–õ–µ–Ω–∏–Ω–∞ 1"
  }
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ì–∏–±–∫–∞—è —Å—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –õ–µ–≥–∫–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏
- ‚úÖ –£–¥–æ–±—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã —Å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é –ø—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
- ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º (CMS)
- –ö–∞—Ç–∞–ª–æ–≥–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- –ë–ª–æ–≥–∏ –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏
- –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 2.2 –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö "–ö–ª—é—á-–ó–Ω–∞—á–µ–Ω–∏–µ"

**–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏:** Redis, Memcached

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –ü—Ä–æ—Å—Ç–µ–π—à–∏–π —Ç–∏–ø NoSQL - –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ

```python
# –ê–Ω–∞–ª–æ–≥ –≤ Python
data = {
    "user:1000": "{'name': '–ò–≤–∞–Ω', 'age': 25}",
    "session:abc123": "{'user_id': 1000, 'expires': 1640000000}",
    "cache:products": "[...]"
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º (O(1))
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–∞–Ω–Ω—ã—Ö —Å–æ —Å–ª–æ–∂–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–∏—Å—Ç–µ–º—ã –æ—á–µ—Ä–µ–¥–µ–π (queues)
- Real-time –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

### 2.3 –ö–æ–ª–æ–Ω–æ—á–Ω—ã–µ (Column-family) –ë–î

**–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏:** Cassandra, HBase

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –î–∞–Ω–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º, –∞ –Ω–µ –ø–æ —Å—Ç—Ä–æ–∫–∞–º

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø—Ä–∏ —Å–ª–æ–∂–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤

### 2.4 –ì—Ä–∞—Ñ–æ–≤—ã–µ –ë–î

**–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏:** Neo4j, Amazon Neptune

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–∞ (—É–∑–ª—ã –∏ —Ä—ë–±—Ä–∞)

```
(–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)-[–î–†–£–ó–¨–Ø_–°]->(–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
(–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)-[–ö–£–ü–ò–õ]->(–¢–æ–≤–∞—Ä)
(–¢–æ–≤–∞—Ä)-[–ö–ê–¢–ï–ì–û–†–ò–Ø]->(–ö–∞—Ç–µ–≥–æ—Ä–∏—è)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–≤—è–∑–µ–π
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è–º

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –°–ª–æ–∂–Ω–æ—Å—Ç—å –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã
- –ê–Ω–∞–ª–∏–∑ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞
- –°–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏—è–º–∏

### 2.5 –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã (Time Series)

**–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏:** InfluxDB, TimescaleDB

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –¥–∞–Ω–Ω—ã—Ö —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- IoT (Internet of Things)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º
- –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 2.6 –ë–∞–∑—ã —Å –∫–æ–ª–ª–∏–∑–∏—è–º–∏

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ key-value, –≥–¥–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–π –º–æ–≥—É—Ç —Å—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ –æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ

**–ú–µ—Ç–æ–¥—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–ª–ª–∏–∑–∏–π:**
- **–¶–µ–ø–æ—á–∫–∏ (Chaining)** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
- **–û—Ç–∫—Ä—ã—Ç–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è** ‚Äî –ø–æ–∏—Å–∫ –¥—Ä—É–≥–æ–π —Å–≤–æ–±–æ–¥–Ω–æ–π —è—á–µ–π–∫–∏
- **–†–µ—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏–∏

---

## 3. CAP-—Ç–µ–æ—Ä–µ–º–∞

### –ß—Ç–æ —Ç–∞–∫–æ–µ CAP?

**CAP-—Ç–µ–æ—Ä–µ–º–∞** –≥–ª–∞—Å–∏—Ç, —á—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Ç–æ–ª—å–∫–æ **–¥–≤–∞ –∏–∑ —Ç—Ä—ë—Ö** —Å–≤–æ–π—Å—Ç–≤:

#### C - Consistency (–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å)
- –í—Å–µ —É–∑–ª—ã –≤–∏–¥—è—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ü–æ—Å–ª–µ –∑–∞–ø–∏—Å–∏ –≤—Å–µ —á—Ç–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

#### A - Availability (–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)
- –°–∏—Å—Ç–µ–º–∞ –≤—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç (—É—Å–ø–µ—à–Ω—ã–π –∏–ª–∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã–π)

#### P - Partition Tolerance (–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é)
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∏ –ø–æ—Ç–µ—Ä–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —É–∑–ª–∞–º–∏
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∞–∂–µ –ø—Ä–∏ —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö

### CAP –≤ NoSQL –±–∞–∑–∞—Ö –¥–∞–Ω–Ω—ã—Ö

| –ë–î | –¢–∏–ø CAP | –û–ø–∏—Å–∞–Ω–∏–µ |
|----|---------|----------|
| MongoDB | CP | –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å + –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é |
| Cassandra | AP | –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å + –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é |
| Redis | CP | –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å + –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—é |

**–í–∞–∂–Ω–æ:** –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ NoSQL –±–∞–∑ –≤—ã–±–∏—Ä–∞—é—Ç AP (–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å + —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å), –∂–µ—Ä—Ç–≤—É—è —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å—é –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---

## 4. SQL vs NoSQL

### –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | SQL | NoSQL |
|----------------|-----|-------|
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞** | –¢–∞–±–ª–∏—Ü—ã, —Å—Ç—Ä–æ–∫–∏, —Å—Ç–æ–ª–±—Ü—ã | –î–æ–∫—É–º–µ–Ω—Ç—ã, –ø–∞—Ä—ã –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –≥—Ä–∞—Ñ—ã |
| **–°—Ö–µ–º–∞** | –ñ—ë—Å—Ç–∫–∞—è, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è | –ì–∏–±–∫–∞—è, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** | –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ (–±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤) | –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ (–±–æ–ª—å—à–µ —Å–µ—Ä–≤–µ—Ä–æ–≤) |
| **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** | ACID-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ | BASE (eventual consistency) |
| **–Ø–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤** | SQL (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω) | –†–∞–∑–ª–∏—á–Ω—ã–µ API –¥–ª—è –∫–∞–∂–¥–æ–π –ë–î |
| **–°–≤—è–∑–∏** | JOIN –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏ | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏–ª–∏ —Å—Å—ã–ª–∫–∏ |
| **–ü—Ä–∏–º–µ—Ä—ã** | PostgreSQL, MySQL, SQLite | MongoDB, Redis, Cassandra |

### –ö–æ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—Ç—å —á—Ç–æ?

#### –í—ã–±–∏—Ä–∞–π—Ç–µ SQL –µ—Å–ª–∏:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞–±–∏–ª—å–Ω–∞
- ‚úÖ –ù—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- ‚úÖ –í–∞–∂–Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢—Ä–µ–±—É—é—Ç—Å—è —Å–ª–æ–∂–Ω—ã–µ JOIN –∑–∞–ø—Ä–æ—Å—ã

#### –í—ã–±–∏—Ä–∞–π—Ç–µ NoSQL –µ—Å–ª–∏:
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —á–∞—Å—Ç–æ –º–µ–Ω—è–µ—Ç—Å—è
- ‚úÖ –ù—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä—ë–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏

---

## 5. –†–∞–±–æ—Ç–∞ —Å MongoDB

### 5.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB Compass
MongoDB Compass ‚Äî –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å MongoDB
- –°–∫–∞—á–∞—Ç—å: https://www.mongodb.com/try/download/compass

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PyMongo
```bash
pip install pymongo
```

#### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MongoDB
```python
from pymongo import MongoClient

# –°–ø–æ—Å–æ–± 1: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–¥–µ–ª—å–Ω–æ
client = MongoClient(host='localhost', port=27017)

# –°–ø–æ—Å–æ–± 2: —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
client = MongoClient('mongodb://localhost:27017/')

# –í—ã–±–æ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
db = client['my_database']  # –∏–ª–∏ client.my_database

# –í—ã–±–æ—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–∏
collection = db['users']  # –∏–ª–∏ db.users
```

**–í–∞–∂–Ω–æ:** 
- `localhost` ‚Äî –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–ª–æ–∫–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞)
- `27017` ‚Äî –ø–æ—Ä—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è MongoDB

### 5.2 –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (CRUD)

#### CREATE - –í—Å—Ç–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```python
# –í—Å—Ç–∞–≤–∫–∞ –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
user_data = {
    "name": "–ò–≤–∞–Ω",
    "email": "ivan@mail.com",
    "age": 25,
    "city": "–ú–æ—Å–∫–≤–∞",
    "hobbies": ["–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ", "—Å–ø–æ—Ä—Ç"],
    "status": "active"
}

result = collection.insert_one(user_data)
print(f"–í—Å—Ç–∞–≤–ª–µ–Ω –¥–æ–∫—É–º–µ–Ω—Ç —Å ID: {result.inserted_id}")

# –í—Å—Ç–∞–≤–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
users_data = [
    {"name": "–ú–∞–∫—Å–∏–º", "email": "max@mail.com", "age": 22},
    {"name": "–ê–Ω–Ω–∞", "email": "anna@mail.com", "age": 28},
    {"name": "–Ø—Ä–æ—Å–ª–∞–≤", "email": "yaroslav@mail.com", "age": 23}
]

result = collection.insert_many(users_data)
print(f"–í—Å—Ç–∞–≤–ª–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {len(result.inserted_ids)}")
```

#### READ - –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```python
# –ù–∞–π—Ç–∏ –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
user = collection.find_one({"name": "–ú–∞–∫—Å–∏–º"})
print(user)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
user = collection.find_one({"name": "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π"})
if user:
    print("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω")
else:
    print("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω")

# –ù–∞–π—Ç–∏ –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
all_users = collection.find()
for user in all_users:
    print(user)

# –ü–æ–∏—Å–∫ —Å —É—Å–ª–æ–≤–∏—è–º–∏
# –í–æ–∑—Ä–∞—Å—Ç –±–æ–ª—å—à–µ 23
users = collection.find({"age": {"$gt": 23}})

# –í–æ–∑—Ä–∞—Å—Ç –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ 23
users = collection.find({"age": {"$gte": 23}})

# –í–æ–∑—Ä–∞—Å—Ç –º–µ–Ω—å—à–µ 30
users = collection.find({"age": {"$lt": 30}})

# –í–æ–∑—Ä–∞—Å—Ç –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ 25
users = collection.find({"age": {"$lte": 25}})

# –í–æ–∑—Ä–∞—Å—Ç —Ä–∞–≤–µ–Ω 25
users = collection.find({"age": {"$eq": 25}})

# –í–æ–∑—Ä–∞—Å—Ç –Ω–µ —Ä–∞–≤–µ–Ω 25
users = collection.find({"age": {"$ne": 25}})

# –ì–æ—Ä–æ–¥ –≤ —Å–ø–∏—Å–∫–µ (–õ–æ–Ω–¥–æ–Ω –∏–ª–∏ –ë–µ—Ä–ª–∏–Ω)
users = collection.find({"city": {"$in": ["–õ–æ–Ω–¥–æ–Ω", "–ë–µ—Ä–ª–∏–Ω"]}})

# –ì–æ—Ä–æ–¥ –ù–ï –≤ —Å–ø–∏—Å–∫–µ
users = collection.find({"city": {"$nin": ["–õ–æ–Ω–¥–æ–Ω", "–ë–µ—Ä–ª–∏–Ω"]}})

# –ù–µ—Å–∫–æ–ª—å–∫–æ —É—Å–ª–æ–≤–∏–π (AND)
users = collection.find({
    "city": "–ë–∞—Ä—Å–µ–ª–æ–Ω–∞",
    "age": {"$lt": 30}
})

# –í—ã–±–æ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–æ–ª–µ–π
users = collection.find({}, {"name": 1, "city": 1, "_id": 0})
for user in users:
    print(user)  # –í—ã–≤–µ–¥–µ—Ç —Ç–æ–ª—å–∫–æ name –∏ city
```

**–û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è:**
- `$gt` ‚Äî –±–æ–ª—å—à–µ (greater than)
- `$gte` ‚Äî –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ (greater than or equal)
- `$lt` ‚Äî –º–µ–Ω—å—à–µ (less than)
- `$lte` ‚Äî –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ (less than or equal)
- `$eq` ‚Äî —Ä–∞–≤–Ω–æ (equal)
- `$ne` ‚Äî –Ω–µ —Ä–∞–≤–Ω–æ (not equal)
- `$in` ‚Äî –≤—Ö–æ–¥–∏—Ç –≤ —Å–ø–∏—Å–æ–∫
- `$nin` ‚Äî –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ —Å–ø–∏—Å–æ–∫

#### UPDATE - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```python
# –û–±–Ω–æ–≤–∏—Ç—å –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
filter_query = {"name": "–ú–∞–∫—Å"}
update_query = {"$set": {"city": "–¢–æ–∫–∏–æ"}}

result = collection.update_one(filter_query, update_query)
print(f"–ò–∑–º–µ–Ω–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {result.modified_count}")

# –û–±–Ω–æ–≤–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
filter_query = {"status": "active"}
update_query = {"$set": {"city": "–ü–∞—Ä–∏–∂"}}

result = collection.update_many(filter_query, update_query)
print(f"–ò–∑–º–µ–Ω–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {result.modified_count}")

# –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –∑–Ω–∞—á–µ–Ω–∏—è (—É–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞ 1)
collection.update_many(
    {"status": "active"},
    {"$inc": {"age": 1}}
)

# –î–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤
collection.update_one(
    {"name": "–ò–≤–∞–Ω"},
    {"$push": {"hobbies": "—á—Ç–µ–Ω–∏–µ"}}
)

# –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –º–∞—Å—Å–∏–≤–∞
collection.update_one(
    {"name": "–ò–≤–∞–Ω"},
    {"$pull": {"hobbies": "—Å–ø–æ—Ä—Ç"}}
)
```

**–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
- `$set` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
- `$inc` ‚Äî —É–≤–µ–ª–∏—á–∏—Ç—å/—É–º–µ–Ω—å—à–∏—Ç—å –Ω–∞ —á–∏—Å–ª–æ
- `$push` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤ –º–∞—Å—Å–∏–≤
- `$pull` ‚Äî —É–¥–∞–ª–∏—Ç—å –∏–∑ –º–∞—Å—Å–∏–≤–∞
- `$unset` ‚Äî —É–¥–∞–ª–∏—Ç—å –ø–æ–ª–µ

#### DELETE - –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```python
# –£–¥–∞–ª–∏—Ç—å –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
result = collection.delete_one({"name": "–Ø–Ω–∞"})
print(f"–£–¥–∞–ª–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {result.deleted_count}")

# –£–¥–∞–ª–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
result = collection.delete_many({"age": {"$gt": 23}})
print(f"–£–¥–∞–ª–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: {result.deleted_count}")

# ‚ö†Ô∏è –û–ü–ê–°–ù–û: –£–¥–∞–ª–∏—Ç—å –í–°–ï –¥–æ–∫—É–º–µ–Ω—Ç—ã
collection.delete_many({})
```

### 5.3 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

#### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

```python
# –ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é (1)
users = collection.find().sort("age", 1)

# –ü–æ —É–±—ã–≤–∞–Ω–∏—é (-1)
users = collection.find().sort("age", -1)

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø–æ–ª—è–º
users = collection.find().sort([("city", 1), ("age", -1)])
```

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```python
# –ü–µ—Ä–≤—ã–µ 5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
users = collection.find().limit(5)

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–≤—ã–µ 3, –≤–∑—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ 5
users = collection.find().skip(3).limit(5)

# –¢–æ–ø-3 —Å–∞–º—ã—Ö —Å—Ç–∞—Ä—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
users = collection.find().sort("age", -1).limit(3)
```

#### –ü–æ–¥—Å—á—ë—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

```python
# –í—Å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
total = collection.count_documents({})

# –î–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å —É—Å–ª–æ–≤–∏–µ–º
active_count = collection.count_documents({"status": "active"})
```

### 5.4 –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

```python
# –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –≥–æ—Ä–æ–¥—É –∏ –ø–æ–¥—Å—á—ë—Ç
pipeline = [
    {"$group": {
        "_id": "$city",
        "count": {"$sum": 1},
        "avg_age": {"$avg": "$age"}
    }}
]

results = collection.aggregate(pipeline)
for result in results:
    print(f"–ì–æ—Ä–æ–¥: {result['_id']}, –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {result['count']}, –°—Ä–µ–¥–Ω–∏–π –≤–æ–∑—Ä–∞—Å—Ç: {result['avg_age']}")
```

---

## 6. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞

```python
from pymongo import MongoClient

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
client = MongoClient('mongodb://localhost:27017/')
db = client['university']
students = db['students']

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
students_data = [
    {
        "first_name": "–ò–≤–∞–Ω",
        "last_name": "–ò–≤–∞–Ω–æ–≤",
        "middle_name": "–ò–≤–∞–Ω–æ–≤–∏—á",
        "age": 20,
        "phone": "+7-900-123-45-67",
        "email": "ivan@university.ru"
    },
    {
        "first_name": "–ú–∞—Ä–∏—è",
        "last_name": "–ü–µ—Ç—Ä–æ–≤–∞",
        "middle_name": "–°–µ—Ä–≥–µ–µ–≤–Ω–∞",
        "age": 21,
        "phone": "+7-900-234-56-78",
        "email": "maria@university.ru"
    },
    {
        "first_name": "–ê–ª–µ–∫—Å–µ–π",
        "last_name": "–°–º–∏—Ä–Ω–æ–≤",
        "middle_name": "–ü–µ—Ç—Ä–æ–≤–∏—á",
        "age": 19,
        "phone": "+7-900-345-67-89",
        "email": "alex@university.ru"
    }
]

students.insert_many(students_data)

# –í—ã–≤–æ–¥ –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
print("–í—Å–µ —Å—Ç—É–¥–µ–Ω—Ç—ã:")
for student in students.find():
    print(f"{student['last_name']} {student['first_name']}, {student['age']} –ª–µ—Ç")

# –°—Ç—É–¥–µ–Ω—Ç—ã —Å—Ç–∞—Ä—à–µ 20 –ª–µ—Ç
print("\n–°—Ç—É–¥–µ–Ω—Ç—ã —Å—Ç–∞—Ä—à–µ 20 –ª–µ—Ç:")
for student in students.find({"age": {"$gt": 20}}):
    print(f"{student['last_name']} {student['first_name']}")

client.close()
```

### –ü—Ä–∏–º–µ—Ä 2: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —Å –∞–≤—Ç–æ—Ä–∞–º–∏ –∏ –∫–Ω–∏–≥–∞–º–∏

```python
from pymongo import MongoClient

client = MongoClient('mongodb://localhost:27017/')
db = client['library_db']

# –ö–æ–ª–ª–µ–∫—Ü–∏–∏
authors = db['authors']
books = db['books']

# –û—á–∏—Å—Ç–∫–∞ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
authors.delete_many({})
books.delete_many({})

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ—Ä–æ–≤
authors_data = [
    {"name": "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π", "country": "–†–æ—Å—Å–∏—è", "birth_year": 1828},
    {"name": "–§—ë–¥–æ—Ä –î–æ—Å—Ç–æ–µ–≤—Å–∫–∏–π", "country": "–†–æ—Å—Å–∏—è", "birth_year": 1821},
    {"name": "–ê–Ω—Ç–æ–Ω –ß–µ—Ö–æ–≤", "country": "–†–æ—Å—Å–∏—è", "birth_year": 1860}
]

author_ids = authors.insert_many(authors_data).inserted_ids

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–∏–≥ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤
books_data = [
    {
        "title": "–í–æ–π–Ω–∞ –∏ –º–∏—Ä",
        "year": 1869,
        "author_id": author_ids[0],
        "genres": ["—Ä–æ–º–∞–Ω", "–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π"]
    },
    {
        "title": "–ê–Ω–Ω–∞ –ö–∞—Ä–µ–Ω–∏–Ω–∞",
        "year": 1877,
        "author_id": author_ids[0],
        "genres": ["—Ä–æ–º–∞–Ω", "–¥—Ä–∞–º–∞"]
    },
    {
        "title": "–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ",
        "year": 1866,
        "author_id": author_ids[1],
        "genres": ["—Ä–æ–º–∞–Ω", "–ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π"]
    },
    {
        "title": "–ò–¥–∏–æ—Ç",
        "year": 1869,
        "author_id": author_ids[1],
        "genres": ["—Ä–æ–º–∞–Ω", "—Ñ–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π"]
    },
    {
        "title": "–í–∏—à–Ω—ë–≤—ã–π —Å–∞–¥",
        "year": 1903,
        "author_id": author_ids[2],
        "genres": ["–ø—å–µ—Å–∞", "–¥—Ä–∞–º–∞"]
    }
]

books.insert_many(books_data)

# –í—ã–≤–æ–¥ –≤—Å–µ—Ö –∫–Ω–∏–≥ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞–≤—Ç–æ—Ä–∞—Ö
print("–í—Å–µ –∫–Ω–∏–≥–∏:")
for book in books.find():
    author = authors.find_one({"_id": book['author_id']})
    print(f"'{book['title']}' ({book['year']}) - {author['name']}, –∂–∞–Ω—Ä—ã: {', '.join(book['genres'])}")

# –ö–Ω–∏–≥–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∞
print("\n–ö–Ω–∏–≥–∏ –¢–æ–ª—Å—Ç–æ–≥–æ:")
tolstoy = authors.find_one({"name": "–õ–µ–≤ –¢–æ–ª—Å—Ç–æ–π"})
for book in books.find({"author_id": tolstoy['_id']}):
    print(f"- {book['title']} ({book['year']})")

# –ö–Ω–∏–≥–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∂–∞–Ω—Ä–∞
print("\n–†–æ–º–∞–Ω—ã:")
for book in books.find({"genres": "—Ä–æ–º–∞–Ω"}):
    author = authors.find_one({"_id": book['author_id']})
    print(f"- {book['title']} - {author['name']}")

client.close()
```

---

## 7. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –ö–ª–∏–µ–Ω—Ç-–°–µ—Ä–≤–µ—Ä

### SQL (SQLite)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –§–∞–π–ª –ë–î   ‚îÇ
‚îÇ (example.db)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Python    ‚îÇ
‚îÇ   sqlite3   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### NoSQL (MongoDB)
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ MongoDB      ‚îÇ
‚îÇ Server       ‚îÇ
‚îÇ (localhost:  ‚îÇ
‚îÇ  27017)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Python     ‚îÇ
‚îÇ   pymongo    ‚îÇ
‚îÇ   (client)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–†–∞–∑–ª–∏—á–∏—è:**
- **SQLite**: —Ñ–∞–π–ª–æ–≤–∞—è –ë–î, –Ω–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞
- **MongoDB**: –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
  - –°–µ—Ä–≤–µ—Ä —Ö—Ä–∞–Ω–∏—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
  - –ö–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

---

## 8. –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### ‚úÖ DO (–î–µ–ª–∞–π—Ç–µ —Ç–∞–∫)

```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä
with MongoClient('mongodb://localhost:27017/') as client:
    db = client['my_database']
    # –†–∞–±–æ—Ç–∞ —Å –ë–î

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –ø–æ–ª–µ–π
collection.create_index("email", unique=True)
collection.create_index("age")

# –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
name = "–ò–≤–∞–Ω"
user = collection.find_one({"name": name})

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
try:
    collection.insert_one({"email": "test@mail.com"})
except Exception as e:
    print(f"–û—à–∏–±–∫–∞: {e}")
```

### ‚ùå DON'T (–ù–µ –¥–µ–ª–∞–π—Ç–µ —Ç–∞–∫)

```python
# ‚ùå –ù–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –æ—Ç–∫—Ä—ã—Ç—ã–º–∏
client = MongoClient()
# ... –∑–∞–±—ã–ª–∏ –∑–∞–∫—Ä—ã—Ç—å

# ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ delete_many({}) –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
collection.delete_many({})  # –£–¥–∞–ª–∏—Ç –í–°–ï –¥–∞–Ω–Ω—ã–µ!

# ‚ùå –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
# –ü–ª–æ—Ö–æ:
{"password": "12345"}
# –•–æ—Ä–æ—à–æ:
{"password_hash": "hashed_value"}
```

---

## 9. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π SQL –∏ MongoDB

| –û–ø–µ—Ä–∞—Ü–∏—è | SQL | MongoDB |
|----------|-----|---------|
| –°–æ–∑–¥–∞—Ç—å –ë–î | `CREATE DATABASE` | `client['db_name']` |
| –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É/–∫–æ–ª–ª–µ–∫—Ü–∏—é | `CREATE TABLE` | –°–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| –í—Å—Ç–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ | `INSERT INTO` | `insert_one()` / `insert_many()` |
| –í—ã–±—Ä–∞—Ç—å –≤—Å–µ | `SELECT * FROM` | `find()` |
| –í—ã–±—Ä–∞—Ç—å —Å —É—Å–ª–æ–≤–∏–µ–º | `SELECT * WHERE` | `find({"field": value})` |
| –û–±–Ω–æ–≤–∏—Ç—å | `UPDATE SET` | `update_one()` / `update_many()` |
| –£–¥–∞–ª–∏—Ç—å | `DELETE FROM` | `delete_one()` / `delete_many()` |
| –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ | `ORDER BY` | `.sort()` |
| –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ | `LIMIT` | `.limit()` |
| –ü—Ä–æ–ø—É—Å–∫ | `OFFSET` | `.skip()` |

---

## 10. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ MongoDB Compass

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Compass:

1. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–π**
   - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
   - –°–ø–∏—Å–æ–∫ –∫–æ–ª–ª–µ–∫—Ü–∏–π –≤ –ë–î
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

2. **–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
   - JSON/Table view
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

3. **–ò–Ω–¥–µ–∫—Å—ã**
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤
   - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω–¥–µ–∫—Å–æ–≤
   - –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**
   - –†–∞–∑–º–µ—Ä –∫–æ–ª–ª–µ–∫—Ü–∏–∏
   - –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞
   - –†–∞–∑–º–µ—Ä –∏–Ω–¥–µ–∫—Å–æ–≤

---

## 11. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `university` —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π `students`:
- –ü–æ–ª—è: first_name, last_name, middle_name, age, phone, email
- –î–æ–±–∞–≤—å—Ç–µ 5 —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- –í—ã–≤–µ–¥–∏—Ç–µ –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- –ù–∞–π–¥–∏—Ç–µ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å—Ç–∞—Ä—à–µ 20 –ª–µ—Ç

### –ó–∞–¥–∞–Ω–∏–µ 2: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É `library_db` —Å –¥–≤—É–º—è –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏:
1. `authors`: name, country, birth_year
2. `books`: title, year, author_id, genres (–º–∞—Å—Å–∏–≤)

- –î–æ–±–∞–≤—å—Ç–µ 3-4 –∞–≤—Ç–æ—Ä–æ–≤
- –î–æ–±–∞–≤—å—Ç–µ 5 –∫–Ω–∏–≥ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∞–≤—Ç–æ—Ä–æ–≤
- –í—ã–≤–µ–¥–∏—Ç–µ –≤—Å–µ –∫–Ω–∏–≥–∏ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞–≤—Ç–æ—Ä–∞—Ö

### –ó–∞–¥–∞–Ω–∏–µ 3: –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏:
- `products`: name, price, category, in_stock
- `customers`: name, email, registration_date
- `orders`: customer_id, product_id, quantity, order_date

---

## 12. –ò–Ω–¥–µ–∫—Å—ã –≤ MongoDB

### –ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω–¥–µ–∫—Å—ã?

**–ò–Ω–¥–µ–∫—Å** ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–∏—Å–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

### –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤

```python
# –ü—Ä–æ—Å—Ç–æ–π –∏–Ω–¥–µ–∫—Å
collection.create_index("email")

# –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å
collection.create_index("email", unique=True)

# –°–æ—Å—Ç–∞–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å
collection.create_index([("city", 1), ("age", -1)])

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω–¥–µ–∫—Å–æ–≤
for index in collection.list_indexes():
    print(index)
```

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã?

- ‚úÖ –ù–∞ –ø–æ–ª—è, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–∏—Å–∫
- ‚úÖ –ù–∞ –ø–æ–ª—è –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- ‚úÖ –ù–∞ –ø–æ–ª—è –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ (email, username)

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –∏–Ω–¥–µ–∫—Å–æ–≤

- ‚ùå –ó–∞–º–µ–¥–ª—è—é—Ç –≤—Å—Ç–∞–≤–∫—É –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- ‚ùå –ó–∞–Ω–∏–º–∞—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ

---

## –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

‚úÖ **NoSQL** ‚Äî –≥–∏–±–∫–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∂—ë—Å—Ç–∫–æ–π —Å—Ö–µ–º—ã  
‚úÖ **MongoDB** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ë–î  
‚úÖ –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ **BSON** (Binary JSON)  
‚úÖ **–ö–æ–ª–ª–µ–∫—Ü–∏–∏** ‚Äî –∞–Ω–∞–ª–æ–≥ —Ç–∞–±–ª–∏—Ü –≤ SQL  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç—ã** ‚Äî –∞–Ω–∞–ª–æ–≥ –∑–∞–ø–∏—Å–µ–π –≤ SQL  
‚úÖ **–ö–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç SQLite)  
‚úÖ –û–ø–µ—Ä–∞—Ç–æ—Ä—ã: `$gt`, `$lt`, `$in`, `$set`, `$inc` –∏ –¥—Ä.  
‚úÖ **MongoDB Compass** ‚Äî –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î  
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–∏–Ω–¥–µ–∫—Å—ã** –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞  
‚úÖ **CAP-—Ç–µ–æ—Ä–µ–º–∞**: MongoDB –≤—ã–±–∏—Ä–∞–µ—Ç CP (Consistency + Partition tolerance)

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- üìö MongoDB –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://docs.mongodb.com/
- üìö PyMongo –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://pymongo.readthedocs.io/
- üîß MongoDB Compass: https://www.mongodb.com/products/compass
- üí° MongoDB University (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—É—Ä—Å—ã)
- üê≥ Docker –æ–±—Ä–∞–∑—ã MongoDB –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏