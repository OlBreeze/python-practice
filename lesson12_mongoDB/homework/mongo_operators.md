
–í–æ—Ç **—Å–ø–∏—Å–æ–∫ —Å–∞–º—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ MongoDB**, 
–∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ Python (—á–µ—Ä–µ–∑ `pymongo`) ‚Äî 
–æ—Å–æ–±–µ–Ω–Ω–æ –≤ –º–µ—Ç–æ–¥–∞—Ö `update_one()`, `find()`, `aggregate()` –∏ —Ç.–¥.

---

## üîß **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (update operators)**

| –û–ø–µ—Ä–∞—Ç–æ—Ä       | –û–ø–∏—Å–∞–Ω–∏–µ                                            | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è                    |
| -------------- | --------------------------------------------------- | --------------------------------------- |
| `$set`         | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è                         | `{"$set": {"price": 99.9}}`             |
| `$unset`       | –£–¥–∞–ª—è–µ—Ç –ø–æ–ª–µ                                        | `{"$unset": {"old_field": ""}}`         |
| `$inc`         | –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç (–∏–ª–∏ —É–º–µ–Ω—å—à–∞–µ—Ç) –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è           | `{"$inc": {"stock": -1}}`               |
| `$mul`         | –£–º–Ω–æ–∂–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è –Ω–∞ —á–∏—Å–ª–æ                     | `{"$mul": {"price": 1.1}}`              |
| `$rename`      | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç –ø–æ–ª–µ                                | `{"$rename": {"oldName": "newName"}}`   |
| `$min`         | –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ, –µ—Å–ª–∏ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–Ω—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ | `{"$min": {"discount": 10}}`            |
| `$max`         | –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ, –µ—Å–ª–∏ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ | `{"$max": {"discount": 50}}`            |
| `$currentDate` | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–ª–µ –≤ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É                   | `{"$currentDate": {"updatedAt": True}}` |

---

## üîç **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (comparison operators)**

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ           | –ü—Ä–∏–º–µ—Ä                                          |
| -------- | ------------------ | ----------------------------------------------- |
| `$eq`    | –†–∞–≤–Ω–æ              | `{"price": {"$eq": 10}}`                        |
| `$ne`    | –ù–µ —Ä–∞–≤–Ω–æ           | `{"status": {"$ne": "done"}}`                   |
| `$gt`    | –ë–æ–ª—å—à–µ             | `{"price": {"$gt": 100}}`                       |
| `$gte`   | –ë–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ   | `{"age": {"$gte": 18}}`                         |
| `$lt`    | –ú–µ–Ω—å—à–µ             | `{"stock": {"$lt": 5}}`                         |
| `$lte`   | –ú–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ   | `{"discount": {"$lte": 20}}`                    |
| `$in`    | –í—Ö–æ–¥–∏—Ç –≤ —Å–ø–∏—Å–æ–∫    | `{"category": {"$in": ["Books", "Games"]}}`     |
| `$nin`   | –ù–µ –≤—Ö–æ–¥–∏—Ç –≤ —Å–ø–∏—Å–æ–∫ | `{"status": {"$nin": ["deleted", "archived"]}}` |

---

## üß† **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã**

| –û–ø–µ—Ä–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ                        | –ü—Ä–∏–º–µ—Ä                                                      |
| -------- | ------------------------------- | ----------------------------------------------------------- |
| `$and`   | –í—Å–µ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã | `{"$and": [{"price": {"$gt": 10}}, {"stock": {"$gt": 0}}]}` |
| `$or`    | –•–æ—Ç—è –±—ã –æ–¥–Ω–æ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ    | `{"$or": [{"category": "Books"}, {"category": "Games"}]}`   |
| `$not`   | –û—Ç—Ä–∏—Ü–∞–µ—Ç —É—Å–ª–æ–≤–∏–µ                | `{"price": {"$not": {"$gt": 100}}}`                         |
| `$nor`   | –í—Å–µ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–∂–Ω—ã–º–∏ | `{"$nor": [{"status": "sold"}, {"status": "reserved"}]}`    |

---

## üìú **–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –º–∞—Å—Å–∏–≤–æ–≤**

| –û–ø–µ—Ä–∞—Ç–æ—Ä     | –û–ø–∏—Å–∞–Ω–∏–µ                                         | –ü—Ä–∏–º–µ—Ä                                                |
| ------------ | ------------------------------------------------ | ----------------------------------------------------- |
| `$push`      | –î–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤                       | `{"$push": {"tags": "new"}}`                          |
| `$addToSet`  | –î–æ–±–∞–≤–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤, –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç         | `{"$addToSet": {"tags": "unique"}}`                   |
| `$pull`      | –£–¥–∞–ª—è–µ—Ç —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –º–∞—Å—Å–∏–≤–∞                       | `{"$pull": {"tags": "old"}}`                          |
| `$pop`       | –£–¥–∞–ª—è–µ—Ç –ø–µ—Ä–≤—ã–π –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç             | `{"$pop": {"tags": 1}}` (1 = –∫–æ–Ω–µ—Ü, -1 = –Ω–∞—á–∞–ª–æ)      |
| `$each`      | –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–æ–±—ã—á–Ω–æ —Å `$push`) | `{"$push": {"tags": {"$each": ["A", "B", "C"]}}}`     |
| `$size`      | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞                         | `{"tags": {"$size": 3}}`                              |
| `$elemMatch` | –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –ø–æ —É—Å–ª–æ–≤–∏—é           | `{"orders": {"$elemMatch": {"price": {"$gt": 100}}}}` |

---

## ‚öôÔ∏è **–ê–≥—Ä–µ–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (pipeline)**

| –û–ø–µ—Ä–∞—Ç–æ—Ä     | –û–ø–∏—Å–∞–Ω–∏–µ                                    |
| ------------ | ------------------------------------------- |
| `$match`     | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤                       |
| `$group`     | –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ª—é                         |
| `$sum`       | –°—É–º–º–∞                                       |
| `$avg`       | –°—Ä–µ–¥–Ω–µ–µ                                     |
| `$count`     | –ü–æ–¥—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞                          |
| `$sort`      | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞                                  |
| `$limit`     | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤          |
| `$project`   | –í—ã–±–æ—Ä –ø–æ–ª–µ–π –¥–ª—è –≤—ã–≤–æ–¥–∞                      |
| `$lookup`    | –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ (join) —Å –¥—Ä—É–≥–æ–π –∫–æ–ª–µ–∫—Ü–∏–µ–π       |
| `$unwind`    | –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –º–∞—Å—Å–∏–≤ –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã |
| `$addFields` | –î–æ–±–∞–≤–ª—è–µ—Ç –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ –ø–æ–ª—è                  |

---

## üí° –ü—Ä–∏–º–µ—Ä –≤ –∫–æ–¥–µ Python

```python
from pymongo import MongoClient

client = MongoClient("mongodb://localhost:27017/")
db = client["shop"]
products = db["products"]

# –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥–µ
products.update_one({"name": "–ù–æ—É—Ç–±—É–∫"}, {"$inc": {"stock": 5}})

# –ù–∞—Ö–æ–¥–∏–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –¥–æ—Ä–æ–∂–µ 1000
for p in products.find({"price": {"$gt": 1000}}):
    print(p)
```
