# üí¨ Django WebSocket Real-Time Chat - –ü—Ä–æ–µ–∫—Ç —Å –ø–æ–ª–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º

## üìù –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ real-time —á–∞—Ç-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Django —Å WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π. –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è WebSocket —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –¥–µ–ø–ª–æ—è Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω.

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** [GitHub Link]  
**Live Demo:** https://chat-messanger-5ru1.onrender.com/chat/  
**–î–∞—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –î–µ–∫–∞–±—Ä—å 2024

---

## üéØ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ –ó–∞–¥–∞—á–∞ 1: –°—á–µ—Ç—á–∏–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–Ω–ª–∞–π–Ω
**–¶–µ–ª—å:** –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí `count++`
- –ü—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí `count--`
- –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ WebSocket
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ header —Å –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–æ—á–∫–æ–π (–ø—É–ª—å—Å–∞—Ü–∏—è)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
```python
# –í consumers.py
online_users = {}  # –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

async def connect(self):
    online_users[self.channel_name] = {'username': ..., 'authenticated': ...}
    await self.channel_layer.group_send('chat_room', {
        'type': 'online_count',
        'count': len(online_users)
    })
```

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 2: Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
**–¶–µ–ª—å:** –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –ö–Ω–æ–ø–∫–∞ "üîî Notify All" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (top-right corner)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
- –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è/–∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è (slide-in/slide-out)

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
```javascript
// –í chat.js
socket.send(JSON.stringify({
    type: 'push_notification',
    text: text
}));

// –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —á–µ—Ä–µ–∑ WebSocket
showNotification(text, sender);
```

---

### ‚úÖ –ó–∞–¥–∞—á–∞ 3: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
**–¶–µ–ª—å:** –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —á–∞—Ç–µ –∏ –∑–∞–ø—Ä–µ—â–∞—Ç—å –≥–æ—Å—Ç—è–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Django `UserCreationForm`
- –í—Ö–æ–¥ —á–µ—Ä–µ–∑ `AuthenticationForm`
- Middleware `AuthMiddlewareStack` –ø–µ—Ä–µ–¥–∞–µ—Ç user –≤ WebSocket scope
- –ì–æ—Å—Ç–∏ –≤–∏–¥—è—Ç —á–∞—Ç, –Ω–æ input –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- –í –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∏–º—è –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
```python
# –í consumers.py
if not self.is_authenticated:
    await self.send(text_data=json.dumps({
        'type': 'error',
        'message': 'You must be logged in to send messages'
    }))
    return
```

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend:
- **Django 4.2+** - –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **Django Channels 4.0+** - WebSocket –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **Daphne 4.0+** - ASGI —Å–µ—Ä–≤–µ—Ä –¥–ª—è production
- **PostgreSQL** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —Å–µ—Å—Å–∏–∏)
- **Redis 5.0+** - –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É WebSocket –∫–ª–∏–µ–Ω—Ç–∞–º–∏

### Frontend:
- **Vanilla JavaScript** - WebSocket –∫–ª–∏–µ–Ω—Ç
- **CSS3** - –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ —Å—Ç–∏–ª–∏
- **HTML5 WebSocket API** - –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

### Deployment:
- **Render.com** - —Ö–æ—Å—Ç–∏–Ω–≥
- **WhiteNoise** - —Ä–∞–∑–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- **Redis Labs** - –≤–Ω–µ—à–Ω–∏–π Redis —Å–µ—Ä–≤–∏—Å
- **Git/GitHub** - version control

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
myproject/
‚îú‚îÄ‚îÄ myproject/
‚îÇ   ‚îú‚îÄ‚îÄ settings.py          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django + production config
‚îÇ   ‚îú‚îÄ‚îÄ asgi.py              # ASGI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è WebSocket
‚îÇ   ‚îú‚îÄ‚îÄ urls.py              # –ì–ª–∞–≤–Ω—ã–µ URL –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py
‚îú‚îÄ‚îÄ chat/
‚îÇ   ‚îú‚îÄ‚îÄ consumers.py         # WebSocket –ª–æ–≥–∏–∫–∞ (–≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª)
‚îÇ   ‚îú‚îÄ‚îÄ routing.py           # WebSocket URL –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ views.py             # HTTP views (login, register, chat page)
‚îÇ   ‚îú‚îÄ‚îÄ urls.py              # HTTP URL –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ static/chat/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat.css     # –°—Ç–∏–ª–∏ –¥–ª—è —á–∞—Ç–∞
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ auth.css     # –°—Ç–∏–ª–∏ –¥–ª—è auth —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ chat.js      # WebSocket –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ templates/chat/
‚îÇ       ‚îú‚îÄ‚îÄ chat.html        # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —á–∞—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ login.html       # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
‚îÇ       ‚îî‚îÄ‚îÄ register.html    # –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ build.sh                 # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –¥–ª—è Render
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
```

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è (–ê–Ω–∞–ª–∏–∑ –∫–æ—Å—è–∫–æ–≤)

### 1. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: 404 Not Found –Ω–∞ `/chat/`**

**–û—à–∏–±–∫–∞:**
```
Page not found (404)
Request URL: http://localhost:8000/chat/
```

**–ü—Ä–∏—á–∏–Ω–∞:**  
–ó–∞–±—ã–ª –ø–æ–¥–∫–ª—é—á–∏—Ç—å `chat.urls` –≤ –≥–ª–∞–≤–Ω—ã–π `myproject/urls.py`

**–†–µ—à–µ–Ω–∏–µ:**
```python
# myproject/urls.py
urlpatterns = [
    path('admin/', admin.site.urls),
    path('chat/', include('chat.urls')),  # ‚Üê –î–æ–±–∞–≤–∏–ª —ç—Ç—É —Å—Ç—Ä–æ–∫—É
]
```

**–£—Ä–æ–∫:** –í Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω—É–∂–Ω–æ —è–≤–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å —á–µ—Ä–µ–∑ `include()` –≤ –≥–ª–∞–≤–Ω–æ–º urls.py.

---

### 2. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: WebSocket already in CLOSING or CLOSED state**

**–û—à–∏–±–∫–∞:**
```
WebSocket is already in CLOSING or CLOSED state.
```

**–ü—Ä–∏—á–∏–Ω–∞:**  
–°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Redis —Å–µ—Ä–≤–µ—Ä–∞ (< 5.0) –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∞ –∫–æ–º–∞–Ω–¥—É `BZPOPMIN`

**–ü–æ–ø—ã—Ç–∫–∏ —Ä–µ—à–µ–Ω–∏—è:**
1. –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–ª—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π Redis ‚Üí –æ–∫–∞–∑–∞–ª—Å—è —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏
2. –ü—Ä–æ–±–æ–≤–∞–ª InMemoryChannelLayer ‚Üí –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
3. –ù–∞—à–µ–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π Redis Labs

**–§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
```python
# settings.py
REDIS_URL = os.environ.get('REDIS_URL')  # Redis Labs URL
CHANNEL_LAYERS = {
    'default': {
        'BACKEND': 'channels_redis.core.RedisChannelLayer',
        'CONFIG': {
            "hosts": [REDIS_URL],
        },
    },
}
```

**–£—Ä–æ–∫:** 
- InMemoryChannelLayer –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Render (—ç—Ñ–µ–º–µ—Ä–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)
- –î–ª—è production WebSocket –Ω—É–∂–µ–Ω Redis 5.0+
- Redis Labs –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–µ–π

---

### 3. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: DisallowedHost error –Ω–∞ Render**

**–û—à–∏–±–∫–∞:**
```
django.core.exceptions.DisallowedHost: Invalid HTTP_HOST header: 
'chat-messanger-5ru1.onrender.com'. You may need to add to ALLOWED_HOSTS.
```

**–ü—Ä–∏—á–∏–Ω–∞:**  
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è - –¥–æ–±–∞–≤–∏–ª –ø—Ä–æ–±–µ–ª—ã –∏ –∫–∞–≤—ã—á–∫–∏:
```
ALLOWED_HOSTS = ['chat-messanger-5ru1.onrender.com']  # ‚Üê –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!
```

**–†–µ—à–µ–Ω–∏–µ:**
```
ALLOWED_HOSTS=chat-messanger-5ru1.onrender.com
```

**–£—Ä–æ–∫:** –í Render –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ù–ï –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- ‚ùå –ü—Ä–æ–±–µ–ª—ã
- ‚ùå –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —Å–∫–æ–±–∫–∏ `[]`
- ‚ùå –ö–∞–≤—ã—á–∫–∏ `''` –∏–ª–∏ `""`
- ‚úÖ –¢–æ–ª—å–∫–æ —á–∏—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

---

### 4. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: ERR_TOO_MANY_REDIRECTS**

**–û—à–∏–±–∫–∞:**
```
This page isn't working
chat-messanger-5ru1.onrender.com redirected you too many times.
```

**–ü—Ä–∏—á–∏–Ω–∞:**  
–ù–∞—Å—Ç—Ä–æ–∏–ª `SECURE_SSL_REDIRECT = True`, –Ω–æ Render —É–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç SSL —á–µ—Ä–µ–∑ reverse proxy. –ü–æ–ª—É—á–∏–ª—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ä–µ–¥–∏—Ä–µ–∫—Ç:

```
–ë—Ä–∞—É–∑–µ—Ä ‚Üí HTTPS ‚Üí Render (SSL termination) 
                    ‚Üì HTTP
                Django –≤–∏–¥–∏—Ç HTTP ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ HTTPS ‚Üí ‚àû loop!
```

**–†–µ—à–µ–Ω–∏–µ:**
```python
# settings.py
if not DEBUG:
    SECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https')
    # SECURE_SSL_REDIRECT = True  # ‚Üê –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª!
```

**–£—Ä–æ–∫:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ reverse proxy (Render, Heroku, AWS ALB):
- –ù–µ –≤–∫–ª—é—á–∞—Ç—å `SECURE_SSL_REDIRECT`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `SECURE_PROXY_SSL_HEADER` —á—Ç–æ–±—ã Django –¥–æ–≤–µ—Ä—è–ª –∑–∞–≥–æ–ª–æ–≤–∫–∞–º –ø—Ä–æ–∫—Å–∏

---

### 5. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ç–∏–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è (404)**

**–û—à–∏–±–∫–∞:**
```
GET /static/chat/css/chat.css 404 Not Found
```

**–ü—Ä–∏—á–∏–Ω–∞:**  
–ó–∞–±—ã–ª:
1. –î–æ–±–∞–≤–∏—Ç—å WhiteNoise –≤ MIDDLEWARE
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `collectstatic` –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `STATIC_ROOT` –∏ `STATICFILES_STORAGE`

**–†–µ—à–µ–Ω–∏–µ:**
```python
# settings.py
MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'whitenoise.middleware.WhiteNoiseMiddleware',  # ‚Üê –°—Ä–∞–∑—É –ø–æ—Å–ª–µ Security!
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–µ
]

STATIC_ROOT = BASE_DIR / 'staticfiles'
STATICFILES_STORAGE = 'whitenoise.storage.CompressedManifestStaticFilesStorage'
```

```bash
# build.sh
python manage.py collectstatic --no-input  # ‚Üê –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
```

**–£—Ä–æ–∫:**
- Django –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ù–ï —Ä–∞–∑–¥–∞–µ—Ç —Å—Ç–∞—Ç–∏–∫—É –≤ production (DEBUG=False)
- WhiteNoise —Ä–µ—à–∞–µ—Ç —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ nginx/Apache
- `collectstatic` —Å–æ–±–∏—Ä–∞–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –æ–¥–Ω—É –ø–∞–ø–∫—É

---

### 6. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: KeyError: 'user' –≤ WebSocket**

**–û—à–∏–±–∫–∞:**
```python
File "chat/consumers.py", line 11, in connect
    self.user = self.scope["user"]
KeyError: 'user'
```

**–ü—Ä–∏—á–∏–Ω–∞:**  
–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ `asgi.py` - –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª channels –ü–ï–†–ï–î –≤—ã–∑–æ–≤–æ–º `get_asgi_application()`

**–ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```python
from channels.routing import ...  # ‚Üê –°–ù–ê–ß–ê–õ–ê –∏–º–ø–æ—Ä—Ç—ã
django_asgi_app = get_asgi_application()  # ‚Üê –ü–û–¢–û–ú –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```

**–°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```python
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myproject.settings')
django_asgi_app = get_asgi_application()  # ‚Üê –°–ù–ê–ß–ê–õ–ê –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Django!
from channels.routing import ...  # ‚Üê –ü–û–¢–û–ú –∏–º–ø–æ—Ä—Ç—ã channels
```

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**  
–î–æ–±–∞–≤–∏–ª –±–µ–∑–æ–ø–∞—Å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —Å–ª—É—á–∞–π –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```python
self.user = self.scope.get("user")  # .get() –≤–º–µ—Å—Ç–æ ["user"]
if not self.user or not hasattr(self.user, 'is_authenticated'):
    self.username = 'Guest'
```

**–£—Ä–æ–∫:**
- –í ASGI –ø–æ—Ä—è–¥–æ–∫ –∏–º–ø–æ—Ä—Ç–æ–≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω
- Django –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –î–û –∏–º–ø–æ—Ä—Ç–∞ channels
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ user –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

### 7. ‚ùå **–ü—Ä–æ–±–ª–µ–º–∞: –ü—É—Ç–∞–Ω–∏—Ü–∞ —Å DATABASE_URL –∏ REDIS_URL**

**–û—à–∏–±–∫–∞:**
```python
REDIS_URL = 'postgresql://chatdb_5xkh_user:...'  # ‚Üê –≠—Ç–æ PostgreSQL!
```

**–ü—Ä–∏—á–∏–Ω–∞:**  
–°–∫–æ–ø–∏—Ä–æ–≤–∞–ª DATABASE_URL –≤–º–µ—Å—Ç–æ REDIS_URL

**–£—Ä–æ–∫:** –ù–∞ Render –Ω—É–∂–Ω—ã **–î–í–ï –†–ê–ó–ù–´–ï** –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
- **PostgreSQL** (`DATABASE_URL`) ‚Üí –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–µ—Å—Å–∏–π, Django ORM
- **Redis** (`REDIS_URL`) ‚Üí –¥–ª—è WebSocket –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏

–§–æ—Ä–º–∞—Ç—ã URL:
```
DATABASE_URL=postgresql://user:pass@host/db
REDIS_URL=redis://default:pass@host:port
```

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ü–æ—á–µ–º—É –Ω—É–∂–Ω—ã –∏ PostgreSQL –∏ Redis?

#### PostgreSQL (–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ):
- ‚úÖ –•—Ä–∞–Ω–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω)
- ‚úÖ –•—Ä–∞–Ω–∏—Ç —Å–µ—Å—Å–∏–∏ (–∫—Ç–æ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –ë–î –¥–ª—è Django

#### Redis (–ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π):
- ‚úÖ –ü–µ—Ä–µ–¥–∞–µ—Ç WebSocket —Å–æ–æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å—á–µ—Ç—á–∏–∫ –æ–Ω–ª–∞–π–Ω
- ‚úÖ –†–∞—Å—Å—ã–ª–∞–µ—Ç push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ pub/sub –¥–ª—è Channels

**–ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É:**
- –ë–µ–∑ PostgreSQL ‚Üí –Ω–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ó–∞–¥–∞—á–∞ 3 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- –ë–µ–∑ Redis ‚Üí WebSocket –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö (InMemory —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞)

---

### –ü–æ—á–µ–º—É SQLite –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è Render?

**–ü—Ä–æ–±–ª–µ–º–∞:** Render –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—ç—Ñ–µ–º–µ—Ä–Ω—É—é —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É**
- ‚ùå –§–∞–π–ª—ã —É–¥–∞–ª—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ
- ‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `db.sqlite3` —Ç–µ—Ä—è–µ—Ç—Å—è
- ‚ùå –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–æ–ø–∞–¥–∞—é—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

**–†–µ—à–µ–Ω–∏–µ:** PostgreSQL —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º

---

## üöÄ –ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è –Ω–∞ Render

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:
1. –°–æ–∑–¥–∞–ª `requirements.txt` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
2. –°–æ–∑–¥–∞–ª `build.sh` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏
3. –ù–∞—Å—Ç—Ä–æ–∏–ª `settings.py` –¥–ª—è production (DEBUG=False, ALLOWED_HOSTS, security settings)
4. –í—ã–Ω–µ—Å —Å—Ç–∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ CSS/JS —Ñ–∞–π–ª—ã
5. –ù–∞—Å—Ç—Ä–æ–∏–ª WhiteNoise –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏

### –ù–∞ Render:
1. –°–æ–∑–¥–∞–ª PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (Free tier)
2. –°–æ–∑–¥–∞–ª Redis —á–µ—Ä–µ–∑ Redis Labs (–≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å)
3. –°–æ–∑–¥–∞–ª Web Service –∏–∑ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
4. –ù–∞—Å—Ç—Ä–æ–∏–ª –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - `SECRET_KEY` (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª –Ω–∞ djecrety.ir)
   - `DEBUG=False`
   - `ALLOWED_HOSTS=chat-messanger-5ru1.onrender.com`
   - `DATABASE_URL` (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª –∏–∑ PostgreSQL)
   - `REDIS_URL` (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª –∏–∑ Redis Labs)
5. –£–∫–∞–∑–∞–ª Build Command: `./build.sh`
6. –£–∫–∞–∑–∞–ª Start Command: `daphne -b 0.0.0.0 -p $PORT myproject.asgi:application`

### –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –¥–µ–ø–ª–æ–µ:
- –ó–∞–±—ã–ª —Å–¥–µ–ª–∞—Ç—å `build.sh` –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º ‚Üí –∏—Å–ø—Ä–∞–≤–∏–ª —á–µ—Ä–µ–∑ `chmod +x`
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Üí —É–±—Ä–∞–ª –∫–∞–≤—ã—á–∫–∏ –∏ –ø—Ä–æ–±–µ–ª—ã
- –°—Ç–∞—Ç–∏–∫–∞ –Ω–µ —Å–æ–±–∏—Ä–∞–ª–∞—Å—å ‚Üí –¥–æ–±–∞–≤–∏–ª `collectstatic` –≤ build.sh

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã –∏ —É—Ä–æ–∫–∏

### 1. WebSocket != HTTP
- WebSocket —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ ASGI —Å–µ—Ä–≤–µ—Ä–∞ (Daphne, Uvicorn)
- Gunicorn –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebSocket
- –ù—É–∂–µ–Ω channel layer (Redis) –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏

### 2. Production != Development
- InMemory –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production
- SQLite –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º —Å —ç—Ñ–µ–º–µ—Ä–Ω–æ–π –§–°
- DEBUG=False –ª–æ–º–∞–µ—Ç —Å—Ç–∞—Ç–∏–∫—É ‚Üí –Ω—É–∂–µ–Ω WhiteNoise
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–º–µ—é—Ç –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç

### 3. –ü–æ—Ä—è–¥–æ–∫ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ
- –í ASGI: Django –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –∏–º–ø–æ—Ä—Ç—ã Channels
- –í MIDDLEWARE: WhiteNoise —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ SecurityMiddleware
- –í consumers: –ø—Ä–æ–≤–µ—Ä–∫–∞ user –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

### 4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ production
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å SECRET_KEY
- HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è WebSocket (wss://)
- CSRF_TRUSTED_ORIGINS –¥–ª—è –¥–æ–º–µ–Ω–æ–≤
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SECURE_SSL_REDIRECT —Å reverse proxy

### 5. –û—Ç–ª–∞–¥–∫–∞
- F12 DevTools ‚Üí Console –¥–ª—è –æ—à–∏–±–æ–∫ JavaScript
- F12 DevTools ‚Üí Network –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏–∫–∏ –∏ WebSocket
- Render Logs –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –æ—à–∏–±–æ–∫
- `print()` –≤ consumers.py –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ WebSocket –ª–æ–≥–∏–∫–∏

---

## üìà –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ë–î
- [ ] –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (1-–Ω–∞-1 —á–∞—Ç)
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç/–∫–∞–Ω–∞–ª–æ–≤
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –≠–º–æ–¥–∑–∏ –ø–∏–∫–µ—Ä
- [ ] Markdown –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
- [ ] Typing indicator ("User is typing...")
- [ ] Read receipts (–ø—Ä–æ—á–∏—Ç–∞–Ω–æ/–Ω–µ –ø—Ä–æ—á–∏—Ç–∞–Ω–æ)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:
- [ ] –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ TypeScript –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React –¥–ª—è UI
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (pytest, pytest-django, pytest-asyncio)
- [ ] CI/CD —á–µ—Ä–µ–∑ GitHub Actions
- [ ] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Celery –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç —Å–ø–∞–º–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Sentry
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Prometheus + Grafana

### UI/UX:
- [ ] Dark mode
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- [ ] –ó–≤—É–∫–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] –ê–≤–∞—Ç–∞—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] –°—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–æ–Ω–ª–∞–π–Ω/–æ—Ñ–ª–∞–π–Ω/away)
- [ ] –ü–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- [ ] –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º

---

## üéì –ß—Ç–æ –±—ã–ª–æ –∏–∑—É—á–µ–Ω–æ

### Django:
‚úÖ Channels –∏ WebSocket –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è  
‚úÖ ASGI vs WSGI  
‚úÖ Channel Layers –∏ Redis  
‚úÖ Async consumers  
‚úÖ AuthMiddlewareStack –¥–ª—è WebSocket  
‚úÖ Production deployment  
‚úÖ Static files management  

### WebSocket:
‚úÖ WebSocket API –≤ JavaScript  
‚úÖ Reconnection –ª–æ–≥–∏–∫–∞  
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π (onopen, onmessage, onerror, onclose)  
‚úÖ JSON –ø—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π  
‚úÖ Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI  

### DevOps:
‚úÖ Deployment –Ω–∞ Render  
‚úÖ PostgreSQL –Ω–∞—Å—Ç—Ä–æ–π–∫–∞  
‚úÖ Redis –Ω–∞—Å—Ç—Ä–æ–π–∫–∞  
‚úÖ Environment variables  
‚úÖ Build scripts  
‚úÖ Git/GitHub workflow  
‚úÖ WhiteNoise –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏  

### Best Practices:
‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ settings –¥–ª—è dev/prod  
‚úÖ –í—ã–Ω–æ—Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è  
‚úÖ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è static files  
‚úÖ Error handling  
‚úÖ Security –Ω–∞—Å—Ç—Ä–æ–π–∫–∏  

---

## üìù –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–æ:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ú–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
python manage.py createsuperuser

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python manage.py runserver

# –û—Ç–∫—Ä—ã—Ç—å
http://localhost:8000/chat/
```

### Production (Render):
```bash
# Build
./build.sh

# Start
daphne -b 0.0.0.0 -p $PORT myproject.asgi:application
```

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Django Channels Documentation](https://channels.readthedocs.io/)
- [Render Documentation](https://render.com/docs)
- [Redis Labs](https://redis.com/)
- [WebSocket API MDN](https://developer.mozilla.org/en-US/docs/Web/API/WebSocket)
- [Django Deployment Checklist](https://docs.djangoproject.com/en/4.2/howto/deployment/checklist/)

---